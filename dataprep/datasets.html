
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Datasets &#8212; Paddy</title>
    
  <link rel="stylesheet" href="../_static/css/index.f658d18f9b420779cfdf24aa0a7e2d77.css">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/sphinx-book-theme.40e2e510f6b7d1648584402491bb10fe.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.d3f166471bb80abb5163.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.d31b09fe5c1d09cb49b26a786de4a05d.js"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="canonical" href="https://paddy.pfiers.net/dataprep/datasets.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Scripts" href="scripts/README.html" />
    <link rel="prev" title="Dataprep" href="README.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />


<!-- Opengraph tags -->
<meta property="og:url"         content="https://paddy.pfiers.net/dataprep/datasets.html" />
<meta property="og:type"        content="article" />
<meta property="og:title"       content="Datasets" />
<meta property="og:description" content="Datasets  To train our network we used three datasets: Freiburg, Giusti and Steentjes. After processing these datasets into our own format, every dataset consis" />


<meta name="twitter:card" content="summary" />


  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../index.html">
  
  
  <h1 class="site-logo" id="site-title">Paddy</h1>
  
</a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../README.html">
   Autonomously Following Forest Paths with a Mobile Robot using Semantic Segmentation
  </a>
 </li>
</ul>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../technologies.html">
   Technologies
  </a>
 </li>
 <li class="toctree-l1 current active collapsible-parent">
  <a class="reference internal" href="README.html">
   Dataprep
  </a>
  <ul class="current collapse-ul">
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Datasets
    </a>
   </li>
   <li class="toctree-l2 collapsible-parent">
    <a class="reference internal" href="scripts/README.html">
     Scripts
    </a>
    <ul class="collapse-ul">
     <li class="toctree-l3">
      <a class="reference internal" href="scripts/freiburg_flatten.html">
       Flatten Freiburg folder structure
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="scripts/giusti_flatten.html">
       Flatten Giusti et al. frame folder structure
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="scripts/yamaha_flatten.html">
       Flatten Yamaha folder structure
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="scripts/single_folder_flatten.html">
       Flatten Yamaha folder structure
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="scripts/remove_seq_sim.html">
       Remove sequential and similar images
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="scripts/convert_masks.html">
       Convert multicolor masks (yamaha/freiburg) to our style (b/w)
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="scripts/images_to_tfr.html">
       Converts a directory with rgb/ and gt/ image subdirectories
      </a>
     </li>
    </ul>
    <i class="fas fa-chevron-down">
    </i>
   </li>
   <li class="toctree-l2 collapsible-parent">
    <a class="reference internal" href="labelling/README.html">
     Labelling
    </a>
    <ul class="collapse-ul">
     <li class="toctree-l3">
      <a class="reference internal" href="labelling/create_label_jsons.html">
       Create empty label json’s for django-labeller
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="labelling/labbeler_to_masks.html">
       Converts django-labeller jsons to masks for an entire directory
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="labelling/process_claims.html">
       Process images from django-labeller and a claims csv
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="labelling/json2mask/json2mask.html">
       JSON to mask
      </a>
     </li>
    </ul>
    <i class="fas fa-chevron-down">
    </i>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="../model/README.html">
   Model
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="../model/load_model.html">
     Load model
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../model/train.html">
     Train
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../model/train_aug.html">
     Train with augmentations
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="../rover/README.html">
   Rover
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="../rover/components.html">
     Components
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../rover/ardupilot-config.html">
     Ardupilot configuration
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../rover/qgroundcontrol.html">
     QGroundControl
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="../ros/README.html">
   ROS
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2 collapsible-parent">
    <a class="reference internal" href="../ros/paddy/README.html">
     Paddy
    </a>
    <ul class="collapse-ul">
     <li class="toctree-l3">
      <a class="reference internal" href="../ros/paddy/paddy/camstream.html">
       Camstream
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../ros/paddy/paddy/padnet.html">
       Padnet
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../ros/paddy/paddy/steering.html">
       Steering
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../ros/paddy/paddy/dms.html">
       Dead man’s switch
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../ros/paddy/paddy/mav.html">
       Mav
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../ros/paddy/paddy/gcs_webui_ws_server.html">
       GCS WebUI WebSockets server
      </a>
     </li>
    </ul>
    <i class="fas fa-chevron-down">
    </i>
   </li>
   <li class="toctree-l2 collapsible-parent">
    <a class="reference internal" href="../ros/droidcam/README.html">
     DroidCAM
    </a>
    <ul class="collapse-ul">
     <li class="toctree-l3">
      <a class="reference internal" href="../ros/droidcam/get_android_ip.html">
       Get Android IP
      </a>
     </li>
    </ul>
    <i class="fas fa-chevron-down">
    </i>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../ros/webui.html">
     Web UI
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../DOCUMENTATION.html">
   Documentation
  </a>
 </li>
</ul>

</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/dataprep/datasets.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

        <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/ubipo/paddy"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        
        <a class="edit-button" href="https://github.com/ubipo/paddy/edit/master/dataprep/datasets.md"><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Edit this page"><i class="fas fa-pencil-alt"></i>suggest edit</button></a>
    </div>
</div>


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#freiburg">
   Freiburg
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#giusti">
   Giusti
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#steentjes">
   Steentjes
  </a>
 </li>
</ul>

        </nav>
        
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="datasets">
<h1>Datasets<a class="headerlink" href="#datasets" title="Permalink to this headline">¶</a></h1>
<p>To train our network we used three datasets: Freiburg, Giusti and Steentjes. After processing these datasets into our own format, every dataset consisted of RGB images and their corresponding binary mask image.</p>
<div class="section" id="freiburg">
<h2>Freiburg<a class="headerlink" href="#freiburg" title="Permalink to this headline">¶</a></h2>
<p>Freiburg (DeepScene)[^3] is a dataset created by the university of Freiburg and contains mostly images of gravel roads. All these images have a manually labeled segmentation mask for multiple classes like: sky, road, high vegetation etc. Since we were only interested in the trail, we made <a class="reference internal" href="scripts/convert_masks.html"><span class="doc std std-doc">a script to convert the original mask</span></a> to a binary mask where the road was white and all the rest was black. This dataset has +-250 labeled images. The original dataset also contained depth maps and other ground truth masks. These images were captured using a rover.</p>
<p>We created <a class="reference internal" href="scripts/freiburg_flatten.html"><span class="doc std std-doc">Freiburg flatten</span></a> to flatten the dataset into our
own format.</p>
<div class="figure align-default" id="id1">
<img alt="../_images/freiburg-example.jpg" src="../_images/freiburg-example.jpg" />
<p class="caption"><span class="caption-number">Fig. 1 </span><span class="caption-text">Freiburg dataset example</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="giusti">
<h2>Giusti<a class="headerlink" href="#giusti" title="Permalink to this headline">¶</a></h2>
<p>The Giusti dataset is a dataset of forest trails in Switzerland. This dataset did not contain segmentation masks but it was classified as 1 of 3 classes. They captured these images by placing 3 action camera’s on a helmet and then walking over forest trails in Switzerland. Since we wanted to extract a mask from the path, we had to segment these images ourselves. The original dataset consisted out of 20 000 images, a lot of them were almost the exact same image since they were frames extracted from a video. We created a script that made a selection of the images based on their color histogram. Images that followed each other and had almost the exact same histogram were deleted. To do this we set up a web tool that gave a simple interface to segment the images. Labeling 500+ images is a very time consuming task so we contacted some teachers if it was possible to join one of their classes and let the first and second year students help us with labeling images. The tool however returns a json file with the coordinates of all points of the mask. We created a script that converted the json file into an image file of the same size as the original image with again, the path in white and all the rest in black. In total we have +-580 labeled images.</p>
<p>We created <a class="reference internal" href="scripts/giusti_flatten.html"><span class="doc std std-doc">Giusti flatten</span></a> to flatten the dataset into our
own format.</p>
<div class="figure align-default" id="id2">
<img alt="../_images/giusti-example.jpg" src="../_images/giusti-example.jpg" />
<p class="caption"><span class="caption-number">Fig. 2 </span><span class="caption-text">Giusti dataset example</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="steentjes">
<h2>Steentjes<a class="headerlink" href="#steentjes" title="Permalink to this headline">¶</a></h2>
<p>Our last dataset, Steentjes, was a dataset with images from a forest in Schiplaken that we took ourselves. We created the masks for these images using the same tool as mentioned before. This dataset has 77 labeled images.</p>
<p>We also experimented with combining multiple datasets together. After some testing we got the best result from combining Freiburg and Steentjes together.</p>
<p>All these datasets were converted into TFRecords to work on the Google Cloud TPUs and were stored on Google Cloud Buckets to maximize training performance.</p>
<div class="figure align-default" id="id3">
<img alt="../_images/steentjes-example.jpg" src="../_images/steentjes-example.jpg" />
<p class="caption"><span class="caption-number">Fig. 3 </span><span class="caption-text">Steentjes dataset example</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./dataprep"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="README.html" title="previous page">Dataprep</a>
    <a class='right-next' id="next-link" href="scripts/README.html" title="next page">Scripts</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Pieter Fiers, Simon Germeau<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="../_static/js/index.d3f166471bb80abb5163.js"></script>


    
  </body>
</html>